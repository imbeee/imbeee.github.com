<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="A blog containing some interesting things."><title>Beeeの零碎事 | Just so so~</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Beeeの零碎事</h1><a id="logo" href="/.">Beeeの零碎事</a><p class="description">Just so so~</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2017/12/24/full-functional-reverse-shell/">linux反弹完全交互shell</a></h1><div class="post-meta">2017-12-24</div><div class="post-content"><p>在渗透测试中经常需要用到反弹shell，而一般反弹回来的shell通常无法完成某些交互操作，如vi编辑文件等。这里先占个坑，简单把反弹一个完全交互shell的过程写出来，回头有机会再补充分析。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 本地监听</span><br><span class="line">stty -a         //获取当前终端参数备用</span><br><span class="line">stty raw        //设置当前终端为raw模式，部分发行版还需要加上-echo关闭终端回显</span><br><span class="line">nc -vlp 1234    //监听端口，此时当前终端无回显，盲打或将上述命令做成shell脚本</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2017/12/24/full-functional-reverse-shell/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2017/12/16/Proxmox-VE-Homelab/">Proxmox VE搭建Homelab实验环境</a></h1><div class="post-meta">2017-12-16</div><div class="post-content"><p>最近经常需要搭建实验环境做测试，重复的系统部署工作无疑是枯燥的体力活。DarkRay大师先前也分享过基于ESXi虚拟化的Homelab方案，详见<a href="https://www.blackh4t.org/2017/12/14/all-about-virtualization/" target="_blank" rel="noopener">穷人的虚拟化实验室方案</a>。这里记录一下我用Proxmox VE搭建实验环境的过程。</p></div><p class="readmore"><a href="/2017/12/16/Proxmox-VE-Homelab/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2017/12/10/install-pure-system-on-vps-and-encrypt-it/">给vps挂载iso安装系统并加密系统分区</a></h1><div class="post-meta">2017-12-10</div><div class="post-content"><p>部分VPS提供商的控制面板仅提供简单的重装系统功能，只能从其提供的有限的iso中选择安装，并且无法验证iso的完整性，或者根本不提供iso挂载功能，直接使用模板重置vps。因此我们无法安装自己所需的系统和对vps系统进行全盘加密。这篇文章简单记录一下如何在vps上挂载自定义iso安装系统并进行加密。</p></div><p class="readmore"><a href="/2017/12/10/install-pure-system-on-vps-and-encrypt-it/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/01/11/ISG2015-RPG-400-Writeup/">ISG2015-RPG-400-Writeup</a></h1><div class="post-meta">2016-01-11</div><div class="post-content"><p>该题是由rpgmakerxp做的一个小迷宫。解压后一看，根目录下有个<code>config.txt</code>，里面为<code>202.120.7.132:9999</code>，初步判断游戏跟服务器有交互。运行游戏，方向键移动角色，wireshark确实能抓取到与服务器交互的数据。<br>用rpgmakerxp编辑该游戏的方法是：用rpgmakerxp新建一个游戏，保存，把游戏目录下的<code>Game.rxproj</code>复制到RPG目录里，再用rpgmakerxp打开该文件即可。<br>打开后，可以看到迷宫尺寸为499*499。同时在rpgmakerxp中，下标起始为0，用二元组表示为（列，行）。角色起始坐标在（1，1），宝箱在（497，497）。题目描述为打开宝箱即得flag。<br>从rpgmakerxp的工具菜单里打开脚本编辑器，拖到最下面看<code>Main</code>脚本，其中有这样的一段：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">host, port = File.new(&quot;config.txt&quot;, &quot;r&quot;).readline().strip().split(&quot;:&quot;)</span><br><span class="line">$CONN = TCPClient.new(host, port.to_i)</span><br><span class="line">$CONN.connect()</span><br></pre></td></tr></table></figure></p></div><p class="readmore"><a href="/2016/01/11/ISG2015-RPG-400-Writeup/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/01/10/rooting-TMB100E-with-serialport/">TMB100E YunOS 2.1.0-R-20141214.1729 root步骤（TTL法，需拆机）</a></h1><div class="post-meta">2016-01-10</div><div class="post-content"><p>这个盒子是Amlogic 8726MX方案的，有1G DDR3内存，8g闪存，是当初天猫圣诞活动1分钱抢回来的。那段时间查了不少资料，折腾了不少，实现了在不影响原系统的情况下通过MicroSD卡引导，在上面跑起了Linux+XMBC，不过最后因为一些小问题（如不是每次都能引导成功、XBMC音频输出不正常等）而放弃折腾。<br>这次回来，把他翻出来在电视上看看本地视频，发现安卓版XBMC不root的话有时会有无法硬解、视频不满屏的问题，同时自带播放器无法解码DTS音频，于是又一次走上折腾的道路。<br>这次我尝试了部分一键root工具，均失败了。然后在找资料的过程中发现<a href="http://www.7po.com/thread-250860-1-1.html" target="_blank" rel="noopener">终于将1.70强行root了（TTL）</a>这篇文，很有参考价值。但是由于我盒子的系统已经升级过，为YunOS 2.1.0，直接套用这个方法失败，具体是flash_image无法将第三方recovery刷入，但里面提到的从u-boot直接引导第三方recovery的方法却引起我的注意，经尝试可成功引导第三方recovery，且进入recovery后，串口为root权限。此时在第三方recovery下刷root包，重启后发现没有超级授权应用，但su确实已刷进/system下。分析root包的updater-script，发现其对<code>/system/xbin/su</code>和<code>/system/bin/su</code>做了<code>chattr +i</code>处理，却没有对<code>/system/app/superuser.apk</code>做这样的处理。可以猜测是固件的init脚本对常见的root应用做了检测和删除。同时解决DTS解码问题的方法也很简单，根据<a href="http://www.znds.com/tv-37494-1-1.html" target="_blank" rel="noopener">移花接木,利用xx盒子固件,解决天猫魔盒DTS音轨无声</a>，Amlogic 8726MX支持DTS硬解，只是官方固件删掉了相关的模块。于是下载该附件，将解码模块放进root包的相对目录下，修改root包的updater-script，做相应修改，刷入即可，后面会放出修改后的root包。</p></div><p class="readmore"><a href="/2016/01/10/rooting-TMB100E-with-serialport/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/01/06/reGeorgSocksProxy-with-single-session-mode/">reGeorgSocksProxy修改版-可指定Cookie</a></h1><div class="post-meta">2016-01-06</div><div class="post-content"><h2 id="reGeorgSocksProxy修改版"><a href="#reGeorgSocksProxy修改版" class="headerlink" title="reGeorgSocksProxy修改版"></a>reGeorgSocksProxy修改版</h2><p>reGeorgSocksProxy是一款渗透测试中常用到的http2socks隧道，本文简单介绍reGeorgSocksProxy的工作原理以及我在使用过程中遇到的小问题，并给出我的修改方法及最终修改后的代码。</p></div><p class="readmore"><a href="/2016/01/06/reGeorgSocksProxy-with-single-session-mode/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/01/03/WebLogic-caidao-fixed/">某些情况下WebLogic可用的菜刀</a></h1><div class="post-meta">2016-01-03</div><div class="post-content"><p>有时候在一些特定的weblogic环境下，菜刀会有一个奇怪的问题，就是文件管理用不了，但是可以执行命令。<br><img src="http://7xilp8.com1.z0.glb.clouddn.com/2016/01/03/WebLogic-caidao-fixed/FileList_err.jpg" alt="http://7xilp8.com1.z0.glb.clouddn.com/2016%2F01%2F03%2FWebLogic-caidao-fixed%2FFileList_err.jpg"><br><img src="http://7xilp8.com1.z0.glb.clouddn.com/2016/01/03/WebLogic-caidao-fixed/cmd_works.jpg" alt="http://7xilp8.com1.z0.glb.clouddn.com/2016%2F01%2F03%2FWebLogic-caidao-fixed%2Fcmd_works.jpg"></p></div><p class="readmore"><a href="/2016/01/03/WebLogic-caidao-fixed/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/01/03/WebLogicPasswordDecryptor-GUI/">WebLogic密码解密工具</a></h1><div class="post-meta">2016-01-03</div><div class="post-content"><p>一次内网渗透测试中遇到不少weblogic容器，而网上流传的weblogic密码解密方法、工具等都都觉得不太方便，事后抽空查资料了解weblogic的加密算法，并参考其中一份资料，做了一份GUI的解密工具，共享出来，有需要的带走。<br><img src="http://7xilp8.com1.z0.glb.clouddn.com/2016/01/03/WebLogicPasswordDecryptor-GUI.jpg" alt="WebLogicPasswordDecryptor-GUI"><br><a href="http://lab.imbeee.com/res/WebLogicPasswordDecryptor-GUI/WeblogicDecryptor-GUI_Release.rar" target="_blank" rel="noopener">WeblogicDecryptor-GUI_Release.rar</a></p></div><p class="readmore"><a href="/2016/01/03/WebLogicPasswordDecryptor-GUI/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2015/04/28/install-aria2-on-newifi-mini/">联想newifi mini上部署aria2</a></h1><div class="post-meta">2015-04-28</div><div class="post-content"><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>之前学校宿舍一直在用硬改16M flash/64M RAM + USB的TP-Link wr841n v7，刷了openwrt，也就用来挂移动硬盘脱机下载点东西而已，没出过什么大问题。最近断线频繁，也不知道是联通线路问题还是路由器问题，断线之后还不能自动重连，实在受不了。而这篇文章要说的主角，应该是去年双12的时候买的，当时想着配置还好，MT7620A，16M flash，128M RAM，带一个USB 2.0，宿舍够用了。再者，当时是查了一下，MT7620A在网上是能找到toolchain的，自己稍微定制一下功能应该不是太难。买回来之后一直放角落里落灰，现在终于能用上了。</p></div><p class="readmore"><a href="/2015/04/28/install-aria2-on-newifi-mini/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2015/04/26/DUTCTF-2015-final/">DUTCTF-2015 正式比赛Writeup</a></h1><div class="post-meta">2015-04-26</div><div class="post-content"><h2 id="DUTCTF-2015-Writeup"><a href="#DUTCTF-2015-Writeup" class="headerlink" title="DUTCTF-2015-Writeup"></a>DUTCTF-2015-Writeup</h2><p>题目不算难，web题基本上都是秒了的，misc题目涉及了一点硬件知识，挺新颖的。pwn题处理得不好，老出问题，后来了解到是他们那边管理人员沟通得不够，加上第一次举办CTF，没有经验，导致一些细节处理得不是很好。</p></div><p class="readmore"><a href="/2015/04/26/DUTCTF-2015-final/">Read More</a></p></div><nav class="page-navigator"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next</a></nav></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://www.imbeee.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Homelab/" style="font-size: 15px;">Homelab</a> <a href="/tags/Writeup/" style="font-size: 15px;">Writeup</a> <a href="/tags/Pentest/" style="font-size: 15px;">Pentest</a> <a href="/tags/Tool/" style="font-size: 15px;">Tool</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/router/" style="font-size: 15px;">router</a> <a href="/tags/newifi-mini/" style="font-size: 15px;">newifi mini</a> <a href="/tags/DIY/" style="font-size: 15px;">DIY</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://imbeee.github.io/" title="Github Pages备份" target="_blank">Github Pages备份</a><ul></ul><a href="https://ymr.me/" title="野蛮人の洞窟" target="_blank">野蛮人の洞窟</a><ul></ul><a href="http://bksec.net/" title="my5t3ry的blog" target="_blank">my5t3ry的blog</a><ul></ul><a href="https://www.blackh4t.org/" title="DarkRay's BLoG.!" target="_blank">DarkRay's BLoG.!</a><ul></ul><a href="https://www.iswin.org/" title="随风's Blog" target="_blank">随风's Blog</a><ul></ul><a href="http://www.00theway.org/" title="00theway's Blog" target="_blank">00theway's Blog</a><ul></ul><a href="https://threathunter.org/" title="ThreatHunter社区" target="_blank">ThreatHunter社区</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Beeeの零碎事.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>